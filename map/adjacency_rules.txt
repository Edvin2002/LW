#Adjacency rules are special rules for adjacencies
#If smbd who is at war fights over canal/strait it is considered closed
#Enemy status is considered if any of sides controlling the chanel is at war with country
#Friend status is considered non of sides controlling the chanel is at war with country and one of controllers is ally of giving military access
#Every one else is considered as neutral according to canal/strait
#Military access considered as being friend
#Rules needs linking from the straits that are affected by the rule ( adjacency_rule_id )

#Name is how you refer to the rule in adjecencies.csv

#Iran Canal
adjacency_rule={
	name = "IRAN_CANAL"

	contested =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	enemy =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	friend = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}
	neutral = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}

	required_provinces = { 4580 7982 }

	icon = 10837
	offset = { 5 0 -6 }
}
########################
####Crazy Train Shit##
#####################

adjacency_rule={
	name = "BERLIN_WARSAW_CANAL"

	contested =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	enemy =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	friend = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}
	neutral = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}

	required_provinces = { 6521 }
}

adjacency_rule={
	name = "BRZESC_KIEV_CANAL"

	contested =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	enemy =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	friend = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}
	neutral = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}

	required_provinces = { 525 }
}

adjacency_rule={
	name = "LWOW_KIEV_CANAL"

	contested =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	enemy =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	friend = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}
	neutral = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}

	required_provinces = { 11479 }
}

adjacency_rule={
	name = "KIEV_KURSK_CANAL"

	contested =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	enemy =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	friend = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}
	neutral = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}

	required_provinces = { 525 }

}

adjacency_rule={

	name = "ODESSA_DNIPROPETROVSK_CANAL"

	contested =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	enemy =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	friend = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}
	neutral = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}

	required_provinces = { 11670 }

}

adjacency_rule={

	name = "DNIPROPETROVSK_ROSTOV_CANAL"

	contested =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	enemy =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	friend = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}
	neutral = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}

	required_provinces = { 11437 }
}

adjacency_rule={
	name = "ROSTOV_STALINGRAD_CANAL"

	contested =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	enemy =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	friend = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}
	neutral = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}

	required_provinces = { 9417 }
}

adjacency_rule={
	name = "STALINGRAD_ASTRAKHAN_CANAL"

	contested =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	enemy =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	friend = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}
	neutral = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}

	required_provinces = { 11474 }
}

adjacency_rule={
	name = "STALINGRAD_BAKU_CANAL"

	contested =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	enemy =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	friend = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}
	neutral = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}

	required_provinces = { 9753 }

}

adjacency_rule={
	name = "KURSK_TULA_CANAL"

	contested =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	enemy =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	friend = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}
	neutral = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}

	required_provinces = { 6262 }
}

adjacency_rule={
	name = "TULA_MOSCOW_CANAL"

	contested =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	enemy =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	friend = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}
	neutral = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}

	required_provinces = { 6262 }

}

adjacency_rule={
	name = "MOSCOW_SMOLENSK_CANAL"

	contested =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	enemy =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	friend = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}
	neutral = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}

	required_provinces = { 6380 }

}
adjacency_rule={
	name = "SMOLENSK_MINSK_CANAL"

	contested =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	enemy =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	friend = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}
	neutral = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}

	required_provinces = { 306 }

}

adjacency_rule={
	name = "MINSK_BRZESC_CANAL"

	contested =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	enemy =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	friend = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}
	neutral = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}

	required_provinces = { 11370 }

}

adjacency_rule={
	name = "WARSAW_BRZESC_CANAL"

	contested =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	enemy =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	friend = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}
	neutral = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}

	required_provinces = { 3392 }
}

adjacency_rule={
	name = "WARSAW_LWOW_CANAL"

	contested =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	enemy =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	friend = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}
	neutral = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}

	required_provinces = { 3544 }

}

###

adjacency_rule={
	name = "PRUSSIA_RIGA_CANAL"

	contested =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	enemy =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	friend = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}
	neutral = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}

	required_provinces = { 6332 }

}

adjacency_rule={
	name = "RIGA_LENINGRAD_CANAL"

	contested =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	enemy =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	friend = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}
	neutral = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}

	required_provinces = { 3151 }

}

adjacency_rule={
	name = "MOSCOW_LENINGRAD_CANAL"

	contested =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	enemy =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	friend = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}
	neutral = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}

	required_provinces = { 6380 }

}

adjacency_rule={
	name = "RIGA_MINSK_CANAL"

	contested =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	enemy =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	friend = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}
	neutral = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}

	required_provinces = { 11370 }

}

adjacency_rule={
	name = "BUCHAREST_ODESSA_CANAL"

	contested =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	enemy =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	friend = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}
	neutral = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}

	required_provinces = { 9617 }

}

adjacency_rule={
	name = "LWOW_ODESSA_CANAL"

	contested =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	enemy =	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	friend = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}
	neutral = {
		army = no
		navy = no
		submarine = no
		trade = yes
	}

	required_provinces = { 11670 }

}

#######
######
#####
###
##
#

#Spain Strait
adjacency_rule={
	name = "Berlin-Madrid"

	contested = {
		army = no
		navy = no
		submarine = yes
		trade = no
	}
	enemy = {
		army = no
		navy = no
		submarine = yes
		trade = no
	}
	friend = {
		army = yes
		navy = yes
		submarine = yes
		trade = yes
	}
	neutral = {
		army = yes
		navy = yes
		submarine = yes
		trade = yes
	}
	required_provinces = { 3938 }
	is_disabled = {
		NOT = {
			tag=SPR
		}
	}
}

#Spain Strait2
adjacency_rule
{
	name = "Vienna-Madrid"

	contested =
	{
		army = no
		navy = no
		submarine = yes
		trade = no
	}
	enemy =
	{
		army = no
		navy = no
		submarine = yes
		trade = no
	}
	friend =
	{
		army = yes
		navy = yes
		submarine = yes
		trade = yes
	}
	neutral =
	{
		army = yes
		navy = yes
		submarine = yes
		trade = yes
	}

	required_provinces = { 896 }
	is_disabled = {
		NOT = {
			tag=SPR

		}

	}
}
#Vladistrait
adjacency_rule
{
	name = "Amur-Khabarovsk"

	contested =
	{
		army = no
		navy = no
		submarine = yes
		trade = no
	}
	enemy =
	{
		army = no
		navy = no
		submarine = yes
		trade = no
	}
	friend =
	{
		army = yes
		navy = yes
		submarine = yes
		trade = yes
	}
	neutral =
	{
		army = yes
		navy = yes
		submarine = yes
		trade = yes
	}

	required_provinces = { 12657 }
	is_disabled = {
		NOT = {
			tag=SOV

		}

	}
}


#Suez Canal
adjacency_rule
{
	name = "SUEZ_CANAL"

	contested =
	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	enemy =
	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	friend =
	{
		army = yes
		navy = yes
		submarine = yes
		trade = yes
	}
	neutral =
	{
		army = yes
		navy = no
		submarine = no
		trade = yes
	}

	required_provinces = { 12049 1155 4073 9947 }

	is_disabled = {
		OR = {
			has_global_flag = SUEZ_CANAL_BLOCKED
			has_country_flag = SUEZ_CANAL_BLOCKED_FOR_COUNTRY
			AND = {
				tag = USA
				SOV = {has_war = no}
			}
		}
		tooltip = disable_canal_tt
	}

	icon = 12049
	offset = { 1 0 -6 }
}

#Gibraltar Strait
adjacency_rule
{
	name = "GIBRALTAR_STRAIT"

	contested =
	{
		army = no
		navy = yes
		submarine = yes
		trade = no
	}
	enemy =
	{
		army = no
		navy = no
		submarine = yes
		trade = no
	}
	friend =
	{
		army = yes
		navy = yes
		submarine = yes
		trade = yes
	}
	neutral =
	{
		army = yes
		navy = no
		submarine = yes
		trade = yes
	}

	required_provinces = { 4135 13235}

	icon = 13235
	offset = { 2.0 0.0 -4.0 }
	is_disabled = {
		OR= {
			AND = {
				OR={tag=ITA tag=GER}
				has_war=no
			}
			AND = {
				tag = USA
				SOV = {has_war = no}
			}
		}
	}
}

#Øresund - (Østersøen <-> Kattegat/Skagerak/Nordsøen)
adjacency_rule
{
	name = "DANISH_BELTS_STRAIT"

	contested =
	{
		army = no
		navy = no
		submarine = yes
		trade = no
	}
	enemy =
	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	friend =
	{
		army = yes
		navy = yes
		submarine = yes
		trade = yes
	}
	neutral =
	{
		army = yes
		navy = yes
		submarine = yes
		trade = yes
	}

	required_provinces = { 6287 3277 3325 3260 394 }

	icon = 2455
	offset = { -26 0 -13 }
}

#Panama Canal
adjacency_rule
{
	name = "PANAMA_CANAL"

	contested =
	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	enemy =
	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	friend =
	{
		army = yes
		navy = yes
		submarine = yes
		trade = yes
	}
	neutral =
	{
		army = no
		navy = no
		submarine = no
		trade = yes
	}

	required_provinces = { 4624 7617 }

	is_disabled = {
		OR = {
			has_global_flag = PANAMA_CANAL_BLOCKED
			has_country_flag = PANAMA_CANAL_BLOCKED_FOR_COUNTRY
		}
		tooltip = disable_canal_tt
	}

	icon = 7617
	offset = { -3 0 -2 }
}

#Turkish Straits
adjacency_rule
{
	name = "BOSPHORUS_STRAIT"

	contested =
	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	enemy =
	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	friend =
	{
		army = yes
		navy = yes
		submarine = yes
		trade = yes
	}
	neutral =
	{
		army = no
		navy = no
		submarine = no
		trade = yes
	}

	required_provinces = { 9833 11829 }

	icon = 9833
	offset = { -2 0 -9 }
}

#Kiel Canal
adjacency_rule
{
	name = "KIEL_CANAL"

	contested =
	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	enemy =
	{
		army = no
		navy = no
		submarine = no
		trade = no
	}
	friend =
	{
		army = yes
		navy = yes
		submarine = yes
		trade = yes
	}
	neutral =
	{
		army = no
		navy = no
		submarine = no
		trade = yes
	}

	required_provinces = { 11366 317 3231 }

	icon = 11366
	offset = { 5 0 -6 }
}
